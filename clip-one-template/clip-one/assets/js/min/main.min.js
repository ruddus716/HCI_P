var win=$(window),body=$("body"),scroll_top=win.scrollTop(),screen_height=win.height(),screen_width=win.width(),navbar_height=$(".navbar").outerHeight(),logo_font_size=Math.ceil(parseInt($(".navbar-brand").css("font-size"))),min_height=40,size=[],navigation_position_top=$(".navbar").position().top,navbar=$(".navbar"),navbar_brand=$(".navbar-brand"),isMobile=!1,navbar_container=$(".navbar .container");!function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"clipresize");var Main=function(){var a=function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=new Number(RegExp.$1);8==a?isIE8=!0:9==a&&(isIE9=!0)}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(isMobile=!0,body.addClass("isMobile")),navbar_brand.contents().filter(function(){return 3!==this.nodeType}).each(function(a){$(this).is("img")?size[a]=Math.ceil(parseInt($(this).height())):$(this).css("font-size")&&(size[a]=Math.ceil(parseInt($(this).css("font-size"))))})},b=function(a,b,c){0==isMobile&&$(".dropdown-toggle").dropdownHover({delay:0})},c=function(a,b,c){$(window).clipresize(function(){screen_height=win.height(),screen_width=win.width(),979>screen_width?($(".navbar-default").removeAttr("style"),navbar_brand.removeAttr("style"),navbar_brand.contents().filter(function(){return 3!==this.nodeType}).each(function(a){$(this).removeAttr("style")})):navigation_position_top=$("#topbar").outerHeight(),f(),g()})},d=function(){$(".animate-group").each(function(){$(this).find(".animate").each(function(){j($(this))})}),$(".animate-if-visible").each(function(){j($(this))})},e=function(){$(".menu-search > a").bind("click",function(a){return $(".search-box").is(":hidden")?$(".search-box").css({scale:.8,opacity:0,display:"block"}).transition({scale:1,opacity:1},200,"easeOutBack"):$(".search-box").transition({scale:.9,opacity:0},200,"easeInBack",function(){$(this).hide()}),!1}),$(".menu-search").bind("click",function(a){a.stopPropagation()}),$("html").click(function(){$(".search-box").is(":visible")&&$(".search-box").transition({scale:.9,opacity:0},200,"easeInBack",function(){$(this).hide()})})},f=function(){scroll_top=win.scrollTop(),screen_height=win.height(),new_navbar_height=navbar_height-scroll_top,0==isMobile&&screen_width>979&&(new_logo_font_size=logo_font_size*navbar.outerHeight()/navbar_height,navigation_position_top>0&&h(),0==scroll_top?(navbar.css({height:navbar_height,"line-height":navbar_height-2+"px"}),navbar.find(".navbar-nav").children("li").children("a").css({height:navbar_height,"line-height":navbar_height-2+"px"}),navbar.find(".container").css({height:"auto"}),body.css({"padding-top":navbar_height+$("#topbar").outerHeight()}),navbar_brand.css("font-size",logo_font_size+"px"),navbar_brand.contents().filter(function(){return 3!==this.nodeType}).each(function(a){$(this).is("img")?$(this).css({height:size[a]+"px",width:"auto"}):$(this).css("font-size")&&$(this).css("font-size",size[a]+"px")})):navbar_height>scroll_top&&new_navbar_height>=min_height?(navbar_brand.css("font-size",new_logo_font_size+"px"),navbar_brand.contents().filter(function(){return 3!==this.nodeType}).each(function(a){$(this).is("img")?$(this).css({height:Math.ceil(size[a]*navbar.outerHeight()/navbar_height)+"px",width:"auto"}):$(this).css("font-size")&&$(this).css("font-size",Math.ceil(size[a]*navbar.outerHeight()/navbar_height)+"px")}),navbar.css({height:new_navbar_height,"line-height":new_navbar_height-2+"px"}),navbar.find(".navbar-nav").children("li").children("a").css({height:new_navbar_height,"line-height":new_navbar_height-2+"px"}),navbar.find(".container").css({height:new_navbar_height+"px"}),body.css({"padding-top":new_navbar_height+$("#topbar").outerHeight()})):(navbar.css({height:min_height,"line-height":min_height-2+"px"}),navbar.find(".navbar-nav").children("li").children("a").css({height:min_height,"line-height":min_height-2+"px"}),navbar.find(".container").css({height:min_height+"px"}),body.css({"padding-top":min_height+$("#topbar").outerHeight()}),new_logo_font_size=logo_font_size*navbar.outerHeight()/navbar_height,navbar_brand.css("font-size",Math.ceil(new_logo_font_size)+"px"),navbar_brand.contents().filter(function(){return 3!==this.nodeType}).each(function(a){$(this).is("img")?$(this).css({height:Math.ceil(size[a]*navbar.outerHeight()/navbar_height)+"px",width:"auto"}):$(this).css("font-size")&&$(this).css("font-size",Math.ceil(size[a]*navbar.outerHeight()/navbar_height)+"px")})))},g=function(){$(".animate-if-visible").length&&($(".animate-if-visible").appear(),$(document.body).on("appear",".animate-if-visible",function(a,b){var c=$(this),d=c.data("animation-options");l(c,d)})),$(".animate-group").length&&($(".animate-group").appear(),$(document.body).on("appear",".animate-group",function(a,b){var c=$(this),d=200;"undefined"!=typeof $(this).data("animation-interval")&&(d=parseInt($(this).data("animation-interval")));var e=0,f=[];c.find(".animate").each(function(a){f[a]=$(this),e++}),i(f,e,0,d)})),$.force_appear()},h=function(){0==scroll_top?navbar.css({top:navigation_position_top+"px"}):scroll_top>navigation_position_top?navbar.css({top:0}):navigation_position_top>scroll_top&&scroll_top>0&&navbar.css({top:navigation_position_top-scroll_top+"px"})},i=function(a,b,c,d){if(b>c){var e=a[c].data("animation-options");setTimeout(function(){l(a[c],e),c++,i(a,b,c,d)},d)}},j=function(a){var b=a.data("animation-options");switch("undefined"==typeof b&&(b=new Object,b.animation="Fade"),b.animation){case"scaleIn":a.css({opacity:0,scale:.6});break;case"scaleToBottom":original_height=a.height(),a.data("original-height",original_height).data("original-width",a.width()).css({opacity:0,transform:"translateY(-"+original_height/2+"px); scaleY(0.001)"});break;case"scaleToRight":original_width=a.width(),a.data("original-height",a.height()).data("original-width",original_width).css({opacity:0,transform:"translateX(-"+original_width/2+"px); scaleX(0.001)"});break;case"scaleToTop":original_height=a.height(),a.data("original-height",original_height).data("original-width",a.width()).css({opacity:0,transform:"translateY("+original_height/2+"px); scaleY(0.001)"});break;case"scaleToLeft":original_width=a.width(),a.data("original-height",a.height()).data("original-width",original_width).css({opacity:0,transform:"translateX("+original_width/2+"px); scaleX(0.001)"});break;default:a.css({opacity:0})}},k=function(){$(".animate-bar").length&&($(".animate-bar").appear(),$(document.body).on("appear",".animate-bar",function(a,b){$(this).progressbar({display_text:"center",use_percentage:!0})}))},l=function(a,b){"undefined"==typeof b&&(b=new Object,b.animation="fadeIn");var c=b.animation,d=b.delay,e=b.duration,f=b.easing;switch("undefined"==typeof c&&(c="fadeIn"),"undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=300),"undefined"==typeof f&&(f="linear"),c){case"scaleIn":a.transition({opacity:1,scale:1,duration:e,delay:d,easing:f});break;case"scaleToRight":case"scaleToLeft":a.transition({opacity:1,transform:"scaleX(1)",duration:e,delay:d,easing:f});break;case"scaleToBottom":case"scaleToTop":a.transition({opacity:1,transform:"scaleY(1)",duration:e,delay:d,easing:f});break;default:e=e/1e3*2+"s",d=d/1e3*2+"s",a.css({opacity:1,"animation-fill-mode":"both","animation-duration":e,"animation-delay":d,"animation-name":c})}},m=function(){$(".image-overlay").length&&!$("body").hasClass("isMobile")&&$(".image-overlay").hover(function(){$(this).transition({opacity:.7}).find(".circle-icon").css({rotate:"-90deg"}).transition({rotate:"0deg",easing:"easeOutBack"},400)},function(){$(this).transition({opacity:0})})},n=function(a){$(".flexslider").each(function(){var b=$(this),c={animation:"slide",animationLoop:!1,controlNav:!0,directionNav:!1,slideshow:!1,prevText:"",nextText:""},d=$.extend({},c,a,b.data("plugin-options"));if("undefined"!=typeof d.sync){var e={animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,prevText:"",nextText:"",asNavFor:b},f=$.extend({},e,$(d.sync).data("plugin-options"));$(d.sync).flexslider(f)}b.flexslider(d)})},o=function(){$(".sb_toggle").click(function(){sb_toggle=$(this),$("#slidingbar").slideToggle("fast",function(){sb_toggle.hasClass("open")?sb_toggle.removeClass("open"):sb_toggle.addClass("open")})})},p=function(){scroll_top=win.scrollTop(),scroll_top_button=$("#scroll-top"),scroll_top>300?scroll_top_button.fadeIn():scroll_top_button.fadeOut(),scroll_top_button.off("click").on("click",function(a){$("html, body").animate({scrollTop:0},"slow"),a.preventDefault()})},q=function(){$(window).scroll(function(a){p(),f()})},r=function(){$(".style-toggle").bind("click",function(){$(this).hasClass("open")?($(this).removeClass("open").addClass("close"),$("#style_selector_container").hide()):($(this).removeClass("close").addClass("open"),$("#style_selector_container").show())}),s()},s=function(){$(".icons-color a").bind("click",function(){return $(".icons-color img").each(function(){$(this).removeClass("active")}),$(this).find("img").addClass("active"),$("#skin_color").attr("href","assets/css/theme_"+$(this).attr("id")+".min.css"),!1})},t=function(){$(".save_style").bind("click",function(){var a=new Object;a.skinClass=$("#skin_color").attr("href"),$.cookie("clip-front-setting",JSON.stringify(a));var b=$("#style_selector_container");return b.block({overlayCSS:{backgroundColor:"#fff"},message:'<img src="assets/images/loading.gif" />',css:{border:"none",color:"#333",background:"none"}}),window.setTimeout(function(){b.unblock()},1e3),!1})},u=function(){if($.cookie("clip-front-setting")){var a=jQuery.parseJSON($.cookie("clip-front-setting"));$("#style_selector").length&&$("#skin_color").attr("href",a.skinClass)}},v=function(){$(".clear_style").bind("click",function(){return $.removeCookie("clip-front-setting"),$(".icons-color img").first().trigger("click"),!1})},w=function(){$(".tooltips").length&&$(".tooltips").tooltip()},x=function(){$(".popovers").length&&$(".popovers").popover()},y=function(){var a=window.location.href.substr(window.location.href.lastIndexOf("/")+1);""==a&&(a="index.html"),$(".nav li a").each(function(){if($(this).attr("href")==a||""==$(this).attr("href")){$(this).parent().addClass("active").closest("ul").parent().addClass("active");var b=$(this).parent().closest("ul").parent().parent().parent().parent().parent().closest("ul").parent();b.hasClass("mega-menu")&&(b.addClass("active"),$(".home-menu").removeClass("active"))}})};return{init:function(){a(),g(),e(),b(),n(),h(),d(),m(),k(),q(),c(),w(),x(),r(),f(),g(),o(),p(),t(),u(),v(),y()}}}();